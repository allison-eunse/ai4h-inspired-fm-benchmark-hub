# Conda environment for AI4H-Inspired FM Benchmark Hub
# Supports Geneformer, Scanpy, PyTorch, and all genomics/neuro FMs
#
# Usage:
#   conda env create -f environment.yml
#   conda activate fmbench
#
# Or with mamba (faster):
#   mamba env create -f environment.yml

name: fmbench

channels:
  - conda-forge
  - pytorch
  - defaults

dependencies:
  # Python 3.11 (best compatibility with numba/Geneformer)
  - python=3.11
  
  # Core scientific stack
  - numpy>=1.23
  - pandas>=2.0
  - scipy>=1.10
  - scikit-learn>=1.3
  
  # PyTorch (CPU by default - change for GPU)
  - pytorch>=2.0
  - cpuonly  # Remove this line for GPU support
  
  # Genomics / single-cell
  - scanpy>=1.9
  - anndata>=0.10
  - loompy
  
  # Numba (critical for Geneformer compatibility)
  - numba>=0.57
  - llvmlite
  
  # HuggingFace ecosystem
  - transformers>=4.30
  - datasets>=2.14
  - tokenizers
  - safetensors
  
  # Utilities
  - pyyaml>=6.0
  - tqdm
  - requests
  - h5py
  - matplotlib
  - seaborn
  
  # Jupyter (optional, for notebooks)
  - jupyterlab
  - ipykernel
  
  # Documentation
  - mkdocs-material
  
  # Pip packages (not available in conda)
  - pip
  - pip:
    - tdigest  # Required for Geneformer
    - peft     # Required for Geneformer
    - optuna   # Required for Geneformer
    - optuna-integration
    - hyperopt
    - tensorboard
